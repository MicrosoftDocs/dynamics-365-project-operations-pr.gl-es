---
title: Consideracións sobre a actualización - Microsoft Dynamics 365 Project Service Automation versión 2.x ou 1.x a versión 3
description: Este tema proporciona información sobre as consideracións que debe ter en conta ao actualizar da versión 2.x ou 1.x á versión 3 de Project Service Automation.
manager: kfend
ms.service: dynamics-365-customerservice
ms.custom:
- dyn365-projectservice
ms.date: 11/13/2018
ms.topic: article
author: JohnPBurrows
ms.author: rumant
audience: Admin
search.audienceType:
- admin
- customizer
- enduser
search.app:
- D365PS
- ProjectOperations
ms.openlocfilehash: 19d6d312c7cedd2d7b9b5649452b85dd24fae761
ms.sourcegitcommit: 5c4c9bf3ba018562d6cb3443c01d550489c415fa
ms.translationtype: HT
ms.contentlocale: gl-ES
ms.lasthandoff: 10/16/2020
ms.locfileid: "4076212"
---
# <a name="upgrade-considerations---psa-version-2x-or-1x-to-version-3"></a><span data-ttu-id="3eaab-103">Consideracións sobre a actualización - PSA versión 2.x ou 1.x a versión 3</span><span class="sxs-lookup"><span data-stu-id="3eaab-103">Upgrade considerations - PSA version 2.x or 1.x to version 3</span></span>
[!INCLUDE[cc-applies-to-psa-app-1x-2x](../includes/cc-applies-to-psa-app-1x-2x.md)]

## <a name="project-service-automation-and-field-service"></a><span data-ttu-id="3eaab-104">Project Service Automation e Field service</span><span class="sxs-lookup"><span data-stu-id="3eaab-104">Project Service Automation and Field Service</span></span>
<span data-ttu-id="3eaab-105">Tanto Dynamics 365 Project Service Automation como Dynamics 365 Field Service usan a solución Universal Resourcing Scheduling (URS) para a planificación de recursos.</span><span class="sxs-lookup"><span data-stu-id="3eaab-105">Both Dynamics 365 Project Service Automation and Dynamics 365 Field Service use the Universal Resourcing Scheduling (URS) solution for resource scheduling.</span></span> <span data-ttu-id="3eaab-106">Se ten na súa instancia tanto Project Service Automation como Field Service, debe planificar a actualización de ambas solucións á versión máis recente (versión 3.x para Project Service Automation, versión 8.x para Field Service).</span><span class="sxs-lookup"><span data-stu-id="3eaab-106">If you have both Project Service Automation and Field Service in your instance, you should plan on upgrading both solutions to the latest version (version 3.x for Project Service Automation, version 8.x for Field Service).</span></span> <span data-ttu-id="3eaab-107">A actualización de Project Service Automation e Field Service instalará a última versión de URS, o que significa que é posible un comportamento incoherente se as solucións Project Service Automation e Field Service da mesma instancia non se actualizan á última versión.</span><span class="sxs-lookup"><span data-stu-id="3eaab-107">Upgrading Project Service Automation or Field Service will install the latest version of URS, which means that inconsistent behavior is possible if both Project Service Automation and Field Service solutions in the same instance aren’t upgraded to the latest version.</span></span>

## <a name="resource-assignments"></a><span data-ttu-id="3eaab-108">Atribucións de recursos</span><span class="sxs-lookup"><span data-stu-id="3eaab-108">Resource assignments</span></span>
<span data-ttu-id="3eaab-109">En Project Service Automation versión 2 e versión 1, as tarefas almacenábanse como tarefas secundarias (tamén chamadas tarefas de liña) na **Entidade tarefa** , e indirectamente relacionadas coa entidade **Atribución de recursos**.</span><span class="sxs-lookup"><span data-stu-id="3eaab-109">In Project Service Automation version 2 and version 1, task assignments were stored as child tasks (also called line tasks) in the **Task entity** , and indirectly related to the **Resource Assignment** entity.</span></span> <span data-ttu-id="3eaab-110">A tarefa de liña era visible na ventá emerxente de atribución en Work Breakdown Structure (WBS).</span><span class="sxs-lookup"><span data-stu-id="3eaab-110">The line task was visible in the assignment pop-up window on the Work Breakdown Structure (WBS).</span></span>

![Tarefas de liña no WBS en Project Service Automation versión 2 e versión 1](media/upgrade-line-task-01.png)

<span data-ttu-id="3eaab-112">Na versión 3 de Project Service Automation, o esquema subxacente de atribución de recursos reservables a tarefas cambiou.</span><span class="sxs-lookup"><span data-stu-id="3eaab-112">In version 3 of Project Service Automation, the underlying schema of assigning bookable resources to tasks has changed.</span></span> <span data-ttu-id="3eaab-113">A tarefa de liña quedou desfasada e hai unha relación directa 1:1 entre a tarefa no **Entidade tarefa** e o membro do equipo na entidade **Atribución de recursos**.</span><span class="sxs-lookup"><span data-stu-id="3eaab-113">The line task has been deprecated and there is a direct 1:1 relationship between the task in the **Task entity** and the team member in the **Resource Assignment** entity.</span></span> <span data-ttu-id="3eaab-114">As tarefas atribuídas a un membro do equipo de proxecto agora almacénanse directamente na entidade Atribución de recursos.</span><span class="sxs-lookup"><span data-stu-id="3eaab-114">Tasks that are assigned to a project team member are now stored directly in the Resource Assignment entity.</span></span>  

<span data-ttu-id="3eaab-115">Estes cambios afectan á actualización de calquera proxecto existente que teña atribucións de recursos para recursos reservables nomeados e recursos xenéricos nun equipo de proxecto.</span><span class="sxs-lookup"><span data-stu-id="3eaab-115">These changes impact the upgrade of any existing projects that have resource assignments for named bookable resources and generic resources on a project team.</span></span> <span data-ttu-id="3eaab-116">Este tema ofrece as consideracións que terá que ter en conta para os seus proxectos cando actualice á versión 3.</span><span class="sxs-lookup"><span data-stu-id="3eaab-116">This topic provides the considerations that you will need to take into account for your projects when you upgrade to version 3.</span></span> 

### <a name="tasks-assigned-to-named-resources"></a><span data-ttu-id="3eaab-117">Tarefas atribuídas a recursos nomeados</span><span class="sxs-lookup"><span data-stu-id="3eaab-117">Tasks assigned to named resources</span></span>
<span data-ttu-id="3eaab-118">Ao usar a entidade de tarefas subxacente, as tarefas da versión 2 e a versión 1 permitían aos membros do equipo retratar un rol distinto do seu rol definido por defecto.</span><span class="sxs-lookup"><span data-stu-id="3eaab-118">Using the underlying task entity, tasks in version 2 and version 1 allowed team members to portray a role other than their default defined role.</span></span> <span data-ttu-id="3eaab-119">Por exemplo, a Beatriz Fervenza, a quen por defecto se atribuíu o rol de xestor de programas, podería atribuírselle unha tarefa co rol de programador.</span><span class="sxs-lookup"><span data-stu-id="3eaab-119">For example, Gracie George, who’s by default assigned the role of Program Manager, could be assigned to a task with the role of Developer.</span></span> <span data-ttu-id="3eaab-120">Na versión 3, o rol dun membro nomeado é sempre o predefinido, polo que calquera tarefa que se lle atribúa a Beatriz Fervenza usa o seu rol predefinido de xestor de programas.</span><span class="sxs-lookup"><span data-stu-id="3eaab-120">In version 3, the role of a named team member is always the default, so any task that Gracie George is assigned to uses her default role of Program Manager.</span></span>

<span data-ttu-id="3eaab-121">Se atribuíu un recurso a unha tarefa fóra do seu rol predefinido na versión 2 e na versión 1, ao actualizar, atribuirase ao recurso nomeado o rol predefinido para todas as atribucións de tarefas, independentemente da atribución de roles na versión 2.</span><span class="sxs-lookup"><span data-stu-id="3eaab-121">If you have assigned a resource to a task outside of their default role in version 2 and version 1, when you upgrade, the named resource will be assigned the default role for all task assignments, regardless of role assignment in version 2.</span></span> <span data-ttu-id="3eaab-122">Isto producirá diferenzas nas estimacións calculadas da versión 2 ou a versión 1 á versión 3 porque as estimacións calcúlanse en función do rol do recurso e non da atribución de tarefas de liña.</span><span class="sxs-lookup"><span data-stu-id="3eaab-122">This will result in differences in the calculated estimates from version 2 or version 1 to version 3 because estimates are calculated based on the role of the resource and not the line task assignment.</span></span> <span data-ttu-id="3eaab-123">Por exemplo, na versión 2, atribuíronse dúas tarefas a Rita Caramés.</span><span class="sxs-lookup"><span data-stu-id="3eaab-123">For example, in version 2, two tasks have been assigned to Ashley Chinn.</span></span> <span data-ttu-id="3eaab-124">O rol na tarefa de liña para a tarefa 1 é programador e para a tarefa 2, xestor de programas.</span><span class="sxs-lookup"><span data-stu-id="3eaab-124">The role on the line task for task 1 is Developer and for task 2, Program Manager.</span></span> <span data-ttu-id="3eaab-125">Rita Caramés ten o rol predefinido como xestor de programas.</span><span class="sxs-lookup"><span data-stu-id="3eaab-125">Ashley Chinn has the default role of Program Manager.</span></span>

![Varios roles atribuídos a un recurso](media/upgrade-multiple-roles-02.png)

<span data-ttu-id="3eaab-127">Debido a que os roles do programador e do xestor de programas son diferentes, as estimacións de custos e vendas son as seguintes:</span><span class="sxs-lookup"><span data-stu-id="3eaab-127">Because the roles of Developer and Program Manager differ, the cost and sales estimates are as follows:</span></span>

![Estimacións de custos dos roles de recursos](media/upggrade-cost-estimates-03.png)

![Estimacións de vendas dos roles de recursos](media/upgrade-sales-estimates-04.png)

<span data-ttu-id="3eaab-130">Cando actualice á versión 3, as tarefas de liña substitúense por atribucións de recursos na tarefa do membro do equipo de recursos reservable.</span><span class="sxs-lookup"><span data-stu-id="3eaab-130">When you upgrade to version 3, line tasks are replaced with resource assignments on the task of the bookable resource team member.</span></span> <span data-ttu-id="3eaab-131">A atribución empregará o rol predefinido do recurso reservable.</span><span class="sxs-lookup"><span data-stu-id="3eaab-131">The assignment will use the default role of the bookable resource.</span></span> <span data-ttu-id="3eaab-132">No seguinte gráfico, Rita Caramés, que ten un rol de xestor de programas, é o recurso.</span><span class="sxs-lookup"><span data-stu-id="3eaab-132">In the following graphic, Ashley Chinn who has a role of Program Manager, is the resource.</span></span>

![Atribucións de recursos](media/resource-assignment-v2-05.png)

<span data-ttu-id="3eaab-134">Debido a que as estimacións están baseadas no rol predefinido do recurso, as estimacións de vendas e custos poden cambiar.</span><span class="sxs-lookup"><span data-stu-id="3eaab-134">Because the estimates are based on the default role for the resource, the sales and cost estimates may change.</span></span> <span data-ttu-id="3eaab-135">Teña en conta que no seguinte gráfico xa non ve o rol **Programador** porque o rol se toma do rol predefinido do recurso reservable.</span><span class="sxs-lookup"><span data-stu-id="3eaab-135">Note that in the following graphic, you no longer see the **Developer** role as the role is now taken from the bookable resource’s default role.</span></span>

<span data-ttu-id="3eaab-136">![Estimacións de custos dos roles predefinidos](media/resource-assignment-cost-estimate-06.png)
![Estimación de vendas dos roles predefinidos](media/resource-assignment-sales-estimate-07.png)</span><span class="sxs-lookup"><span data-stu-id="3eaab-136">![Cost estimates for default roles](media/resource-assignment-cost-estimate-06.png)
![Sales estimate for default roles](media/resource-assignment-sales-estimate-07.png)</span></span>

<span data-ttu-id="3eaab-137">Despois de completar a actualización, pode editar o rol dun membro do equipo para que sexa distinto do asignado por defecto.</span><span class="sxs-lookup"><span data-stu-id="3eaab-137">After upgrade is complete, you can edit a team member's role to be something other than the assigned default.</span></span> <span data-ttu-id="3eaab-138">Non obstante, se cambia un rol dos membros do equipo, cambiarase en todas as súas tarefas atribuídas porque aos membros do equipo xa non se lles poden atribuír varios roles na versión 3.</span><span class="sxs-lookup"><span data-stu-id="3eaab-138">However, if you change a team members role, it will be changed on all of their assigned tasks because team members are no longer allowed to be assigned multiple roles in version 3.</span></span>

![Actualización dun rol de recurso](media/resource-role-assignment-08.png)

<span data-ttu-id="3eaab-140">Isto tamén é válido para as tarefas de liña atribuídas a recursos nomeados cando cambia a unidade organizativa predefinida do recurso a outra unidade organizativa.</span><span class="sxs-lookup"><span data-stu-id="3eaab-140">This is also true for line tasks that were assigned to named resources when you change the resource’s organization unit from the default to another organization unit.</span></span> <span data-ttu-id="3eaab-141">Despois de completar a actualización da versión 3, a atribución empregará a unidade organizativa predefinida do recurso en lugar da fixada na tarefa de liña.</span><span class="sxs-lookup"><span data-stu-id="3eaab-141">After the version 3 upgrade is complete, the assignment will use the resource’s default organization unit instead of the one set on the line task.</span></span>

### <a name="tasks-assigned-to-generic-resources"></a><span data-ttu-id="3eaab-142">Tarefas atribuídas a recursos xenéricos</span><span class="sxs-lookup"><span data-stu-id="3eaab-142">Tasks assigned to generic resources</span></span>
<span data-ttu-id="3eaab-143">Na versión 2 e na versión 1, pode configurar o rol e a unidade organizativa para unha tarefa e logo usar a funcionalidade **Xerar equipo** para xerar recursos xenéricos en función dos atributos establecidos na tarefa.</span><span class="sxs-lookup"><span data-stu-id="3eaab-143">In version 2 and version 1, you can set the role and org unit on a task and then use the **Generate team** feature to generate generic resources based on the attributes set on the task.</span></span> <span data-ttu-id="3eaab-144">Na versión 3, vostede crea os membros do equipo xenérico con rol e unidade organizativa, e despois atribúe aos membros do equipo a tarefas.</span><span class="sxs-lookup"><span data-stu-id="3eaab-144">In version 3, you create the generic team members with role and org unit, and then assign the team members to tasks.</span></span>

<span data-ttu-id="3eaab-145">Na versión 2 e na versión 1, os proxectos con recursos xenéricos poden estar en dous estados ou unha mestura de ambos a nivel de tarefa.</span><span class="sxs-lookup"><span data-stu-id="3eaab-145">In version 2 and version 1, projects with generic resources can be in two states, or a mix of both at the task level.</span></span> <span data-ttu-id="3eaab-146">Por exemplo, pode ter os seguintes escenarios:</span><span class="sxs-lookup"><span data-stu-id="3eaab-146">For example, you can have the following scenarios:</span></span>

- <span data-ttu-id="3eaab-147">Tarefas con roles e unidades organizativas establecidas, pero non se xerou ningunha atribución de recursos afiliados.</span><span class="sxs-lookup"><span data-stu-id="3eaab-147">Tasks with roles and org units set, but no affiliated resource assignment has been generated.</span></span>
- <span data-ttu-id="3eaab-148">Tarefas coas atribucións de recursos de membros xenéricos do equipo atribuídas mediante a creación de recursos xenéricos utilizando a funcionalidade **Xerar equipo**.</span><span class="sxs-lookup"><span data-stu-id="3eaab-148">Tasks with generic team member resource assignments that were assigned by creating generic resource using the **Generate team** feature.</span></span>

<span data-ttu-id="3eaab-149">Antes de comezar a actualización, recomendamos que xere de novo o equipo para cada proxecto que teña tarefas atribuídas a recursos xenéricos ou que aínda teña que executar o proceso de xeración do equipo.</span><span class="sxs-lookup"><span data-stu-id="3eaab-149">Before you begin your upgrade, we recommend that you re-generate the team for each project that has tasks assigned to generic resources or has yet to have the generate team process run on them.</span></span>

<span data-ttu-id="3eaab-150">Para tarefas atribuídas a membros do equipo xenérico que se xeraron con **Xerar equipo** , a actualización deixará o recurso xenérico no equipo e deixará a atribución a ese membro do equipo xenérico.</span><span class="sxs-lookup"><span data-stu-id="3eaab-150">For tasks that are assigned to generic team members that were generated with **Generate Team** , the upgrade will leave the generic resource on the team and leave the assignment to that generic team member.</span></span> <span data-ttu-id="3eaab-151">Recomendamos que xere o requisito de recurso para o membro xenérico do equipo despois da actualización, pero antes de reservar ou enviar unha solicitude de recurso.</span><span class="sxs-lookup"><span data-stu-id="3eaab-151">We recommend that you generate the resource requirement for the generic team member after the upgrade but before you book or submit a resource request.</span></span> <span data-ttu-id="3eaab-152">Isto conservará as tarefas de unidades organizativas nos membros xenéricos do equipo que sexan diferentes da unidade organizativa contratante do proxecto.</span><span class="sxs-lookup"><span data-stu-id="3eaab-152">This will preserve any org unit assignments on the generic team members that are different than the project’s contracting org unit.</span></span>

<span data-ttu-id="3eaab-153">Por exemplo, no proxecto Project Z, a unidade organizativa de contratación é Contoso US.</span><span class="sxs-lookup"><span data-stu-id="3eaab-153">For example, in the Project Z project, the contracting org unit is Contoso US.</span></span> <span data-ttu-id="3eaab-154">No plan do proxecto, as tarefas de proba dentro da fase de implantación foron atribuídas co rol de consultor técnico e a unidade organizativa atribuída é Contoso India.</span><span class="sxs-lookup"><span data-stu-id="3eaab-154">In the project plan, testing tasks within the Implementation phase have been assigned the role Technical Consultant and the assigned org unit is Contoso India.</span></span>

![Atribución da organización na fase de implantación](media/org-unit-assignment-09.png)

<span data-ttu-id="3eaab-156">Despois da fase de implantación, a tarefa de proba de integración está atribuída ao rol de asesor técnico, pero o organización está definida en Contoso US.</span><span class="sxs-lookup"><span data-stu-id="3eaab-156">After the implementation phase, the integration test task is assigned to the role Technical consultant, but the org is set to Contoso US.</span></span>  

![Atribución de organización da tarefa de proba de integración](media/org-unit-generate-team-10.png)

<span data-ttu-id="3eaab-158">Cando se xera un equipo para o proxecto, créanse dous membros xenéricos do equipo debido ás diferentes unidades organizativas nas tarefas.</span><span class="sxs-lookup"><span data-stu-id="3eaab-158">When you generate a team for the project, two generic team members are created due to the different org units on the tasks.</span></span> <span data-ttu-id="3eaab-159">Atribuiranse ao asesor técnico 1 as tarefas de Contoso India e o consultor técnico 2 terá as tarefas de Contoso EUA.</span><span class="sxs-lookup"><span data-stu-id="3eaab-159">Technical consultant 1 will be assigned the Contoso India tasks and Technical consultant 2 will have the Contoso US tasks.</span></span>  

![Membros xenéricos do equipo xerados](media/org-unit-assignments-multiple-resources-11.png)

> [!NOTE]
> <span data-ttu-id="3eaab-161">En Project Service Automation versión 2 e versión 1, o membro do equipo non mantén a unidade organizativa, que se mantén na tarefa de liña.</span><span class="sxs-lookup"><span data-stu-id="3eaab-161">In Project Service Automation version 2 and version 1, the team member does not hold the organization unit, that is maintained on the line task.</span></span>

![Tarefas de liña en Project Service Automation versión 2 e versión 1](media/line-tasks-12.png)

<span data-ttu-id="3eaab-163">Pode ver a unidade organizativa na vista de estimacións.</span><span class="sxs-lookup"><span data-stu-id="3eaab-163">You can see the organization unit on the estimates view.</span></span> 

![Estimacións da unidade organizativa](media/org-unit-estimates-view-13.png)
 
<span data-ttu-id="3eaab-165">Cando a actualización está completa, a unidade organizativa da tarefa de liña que corresponde ao membro xenérico do equipo engádese ao membro xenérico do equipo e elimínase a tarefa de liña.</span><span class="sxs-lookup"><span data-stu-id="3eaab-165">When the upgrade is complete, the organization unit on the line task that corresponds to the generic team member is added to the generic team member and the line task is removed.</span></span> <span data-ttu-id="3eaab-166">Por iso recomendamos que antes de actualizar, xere ou xere de novo o equipo en cada proxecto que conteña recursos xenéricos.</span><span class="sxs-lookup"><span data-stu-id="3eaab-166">Because of this, we recommend that before you upgrade, you generate or re-generate the team on each project that contains generic resources.</span></span>

<span data-ttu-id="3eaab-167">Para tarefas atribuídas a un rol cunha unidade organizativa que difira da unidade organizativa do proxecto de contratación e non se xerou un equipo, a actualización creará un membro xenérico do equipo para o rol, pero usará a unidade de contratación do proxecto para a unidade organizativa do membro do equipo.</span><span class="sxs-lookup"><span data-stu-id="3eaab-167">For tasks that are assigned to a role with an org unit that differs from the org unit of the contracting project, and a team has not been generated, upgrade will create a generic team member for the role, but will use the contracting unit of the project for the team member's org unit.</span></span> <span data-ttu-id="3eaab-168">Volvendo ao exemplo co Proxecto Z, isto significa que a unidade organizativa contratante Contoso EUA e as tarefas de proba do plan de proxecto dentro da fase de implantación foron atribuídas ao rol de asesor técnico e coa unidade organizativa atribuída a Contoso India.</span><span class="sxs-lookup"><span data-stu-id="3eaab-168">Referring back to the example with Project Z, this means that the contracting org unit Contoso US, and the project plan testing tasks within the Implementation phase have been assigned the role Technical Consultant with the org unit assigned to Contoso India.</span></span> <span data-ttu-id="3eaab-169">A tarefa de proba de integración que se completa despois da fase de implantación foi atribuída ao rol de asesor técnico.</span><span class="sxs-lookup"><span data-stu-id="3eaab-169">The Integration test task that is completed after the Implementation phase has been assigned to the role Technical consultant.</span></span> <span data-ttu-id="3eaab-170">A unidade organizativa é Contoso EUA e non se xerou un equipo.</span><span class="sxs-lookup"><span data-stu-id="3eaab-170">The org unit is Contoso US and a team has not been generated.</span></span> <span data-ttu-id="3eaab-171">A actualización creará un membro xenérico do equipo, un asesor técnico que teña as horas atribuídas das tres tarefas e unha unidade organizativa de Contoso EUA, a unidade organizativa contratante do proxecto.</span><span class="sxs-lookup"><span data-stu-id="3eaab-171">Upgrade will create one generic team member, a Technical consultant that has the assigned hours of all three tasks, and an org unit of Contoso US, the project’s contracting org unit.</span></span>   
 
<span data-ttu-id="3eaab-172">O cambio das diferentes unidades organizativas de recursos predefinidas en membros do equipo non xerados é o motivo polo que recomendamos que xere ou volva xerar o equipo en cada proxecto que conteña recursos xenéricos antes da actualización para que non se perdan as atribucións de unidades organizativas.</span><span class="sxs-lookup"><span data-stu-id="3eaab-172">Changing the default of the different resourcing org units on un-generated team members is the reason we recommend that you generate or re-generate the team on each project that contains generic resources prior to the upgrade so that the org unit assignments are not lost.</span></span>

